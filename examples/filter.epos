# Filters over a list
fn filter*(lst: list(t), fun: fn(t) -> bool, index: int = 0): list(t)
  empty-list: list(t) = {}
  el: t = lst |> elem(index)
  result: list(t) = match index then
    len(lst) -> empty-list
    _ -> match fun(el) then
      true -> {el, ..filter(lst, fun, index + 1)}
      false -> empty-list
    end
  end
  result
end

fn is-even(x: int): bool
  x % 2 == 0
end
nums: list(int) = 10..1
print(nums |> filter(is-even))
