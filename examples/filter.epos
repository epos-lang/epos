# Filters over a list
# Example:
#   (1..5).filter(fn(x: int): bool => x % 2 == 0)
fn filter*(lst: list(t), fun: fn(t) => bool, index: int = 0): list(t)
  empty-list: list(t) = {}
  el: t = lst.elem(index)
  result: list(t) = match index then
    len(lst) => empty-list
    _ => match fun(el) then
      true => {el, ..filter(lst, fun, index + 1)}
      _ => filter(lst, fun, index + 1)
    end
  end
  result
end
